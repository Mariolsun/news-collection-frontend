!function(e){var t={};function s(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(i,o,function(t){return e[t]}.bind(null,o));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=43)}([function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,s){(function(t){var s=function(e){return e&&e.Math==Math&&e};e.exports=s("object"==typeof globalThis&&globalThis)||s("object"==typeof window&&window)||s("object"==typeof self&&self)||s("object"==typeof t&&t)||Function("return this")()}).call(this,s(12))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,s){var i=s(0);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,s){"use strict";t.a=[{_id:4,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"4 августа, 2019",title:"Национальное достояние - сейвы",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"CЕЙВ.РУ",keyword:"Природа"},{_id:5,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"5 августа, 2012",title:"СЕЙВЫ",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"МЕДУЗА",keyword:"Природа"},{_id:6,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"6 августа, 2019",title:"Национальное достояние - парки",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"ЛЕНТА.РУ",keyword:"Здоровье"},{_id:7,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"7 августа, 2019",title:"Национальное достояние - сейвы",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"CЕЙВ.РУ",keyword:"Биткоин"},{_id:8,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"8 августа, 2012",title:"СЕЙВЫ",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"МЕДУЗА",keyword:"Природа"},{_id:9,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"9 августа, 2019",title:"Национальное достояние - парки",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"ЛЕНТА.РУ",keyword:"Политика"}]},function(e,t,s){var i=s(1),o=s(13),r=s(14),n=s(7);for(var a in o){var l=i[a],c=l&&l.prototype;if(c&&c.forEach!==r)try{n(c,"forEach",r)}catch(e){c.forEach=r}}},function(e,t){var s={}.toString;e.exports=function(e){return s.call(e).slice(8,-1)}},function(e,t,s){var i=s(3),o=s(30),r=s(35);e.exports=i?function(e,t,s){return o.f(e,t,r(1,s))}:function(e,t,s){return e[t]=s,e}},function(e,t){var s={}.hasOwnProperty;e.exports=function(e,t){return s.call(e,t)}},function(e,t,s){var i=s(0);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var i=s.p+"./images/bookmark-marked.png";class o{constructor(e,t,s,i){this.articlesContainer=e,this.template=t,this.isLoggedIn=i,this.data=s,this._id=this.data._id,this.block=document.createElement("div"),this.block.classList.add("article"),this.block.append(this.template.content.cloneNode("true")),this.articlesContainer.append(this.block),this.saveOptionsBlock=this.block.querySelector(".article__save-options"),this.saveHint=this.block.querySelector(".article__save-hint"),this.image=this.block.querySelector(".article__image"),this.date=this.block.querySelector(".article__date"),this.text=this.block.querySelector(".article__text"),this.title=this.block.querySelector(".article__title"),this.source=this.block.querySelector(".article__source"),this.keyword=this.block.querySelector(".article__keyword"),this.bookmarkIcon=this.block.querySelector(".article__bookmark-icon"),this.render=this.render.bind(this),this.visible=this.visible.bind(this),this.toggleSave=this.toggleSave.bind(this),this.remove=this.remove.bind(this),this.render(),this.block.addEventListener("click",this.toggleSave)}visible(e){e?(this.render(),this.block.classList.add("article_visible")):this.block.classList.remove("article_visible")}isVisible(){return this.block.classList.contains("article_visible")}remove(){this.block.remove()}toggleSave(){this.isLoggedIn()&&(this.isSaved=!this.isSaved,this.isSaved?(this.bookmarkIcon.classList.add("article__bookmarked-icon"),this.bookmarkIcon.classList.remove("article__bookmark-icon"),this.bookmarkIcon.src=i):(this.bookmarkIcon.classList.add("article__bookmark-icon"),this.bookmarkIcon.classList.remove("article__bookmarked-icon"),this.bookmarkIcon.src=i))}render(){this.image.src=this.data.image,this.date.textContent=this.data.date,this.title.textContent=this.data.title,this.text.textContent=this.data.text,this.source.textContent=this.data.source,this.keyword.textContent=this.data.keyword}}},function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));s(5);class i{constructor(e,t,s,i,o){var r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];this.userNameBlocks=e,this.articles=t,this.loginFunc=i,this.logoutFunc=o,this.loggedIn=r,this.name=s,this.updateArticles=this.updateArticles.bind(this),this.updateUserName=this.updateUserName.bind(this),this.addArticle=this.addArticle.bind(this),this.removeArticle=this.removeArticle.bind(this),this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.isLoggedIn=this.isLoggedIn.bind(this),this.loggedIn?this.login():this.logout()}updateUserName(e){console.log("updating username ".concat(e)),this.name=e,this.userNameBlocks.forEach(e=>{e.textContent=this.name})}updateArticles(e){this.articles=e}addArticle(e){this.articles.push(e)}removeArticle(e){this.articles.filter(t=>t._id!=e)}login(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.name,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];console.log("logged in as ".concat(this.name)),this.loggedIn=!0,this.updateUserName(e),this.updateArticles(t),this.loginFunc()}logout(){this.loggedIn=!1,this.updateUserName("Грета"),this.updateArticles([]),this.logoutFunc()}isLoggedIn(){return this.loggedIn}}},function(e,t){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(e){"object"==typeof window&&(s=window)}e.exports=s},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,s){"use strict";var i=s(15).forEach,o=s(38),r=s(39),n=o("forEach"),a=r("forEach");e.exports=n&&a?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,s){var i=s(16),o=s(18),r=s(19),n=s(21),a=s(23),l=[].push,c=function(e){var t=1==e,s=2==e,c=3==e,u=4==e,d=6==e,h=5==e||d;return function(p,m,b,_){for(var f,g,T=r(p),v=o(T),y=i(m,b,3),k=n(v.length),S=0,L=_||a,w=t?L(p,k):s?L(p,0):void 0;k>S;S++)if((h||S in v)&&(g=y(f=v[S],S,T),e))if(t)w[S]=g;else if(g)switch(e){case 3:return!0;case 5:return f;case 6:return S;case 2:l.call(w,f)}else if(u)return!1;return d?-1:c||u?u:w}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,s){var i=s(17);e.exports=function(e,t,s){if(i(e),void 0===t)return e;switch(s){case 0:return function(){return e.call(t)};case 1:return function(s){return e.call(t,s)};case 2:return function(s,i){return e.call(t,s,i)};case 3:return function(s,i,o){return e.call(t,s,i,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,s){var i=s(0),o=s(6),r="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?r.call(e,""):Object(e)}:Object},function(e,t,s){var i=s(20);e.exports=function(e){return Object(i(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,s){var i=s(22),o=Math.min;e.exports=function(e){return e>0?o(i(e),9007199254740991):0}},function(e,t){var s=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:s)(e)}},function(e,t,s){var i=s(2),o=s(24),r=s(25)("species");e.exports=function(e,t){var s;return o(e)&&("function"!=typeof(s=e.constructor)||s!==Array&&!o(s.prototype)?i(s)&&null===(s=s[r])&&(s=void 0):s=void 0),new(void 0===s?Array:s)(0===t?0:t)}},function(e,t,s){var i=s(6);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,s){var i=s(1),o=s(26),r=s(8),n=s(36),a=s(9),l=s(37),c=o("wks"),u=i.Symbol,d=l?u:u&&u.withoutSetter||n;e.exports=function(e){return r(c,e)||(a&&r(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},function(e,t,s){var i=s(27),o=s(28);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t,s){var i=s(1),o=s(29),r=i["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=r},function(e,t,s){var i=s(1),o=s(7);e.exports=function(e,t){try{o(i,e,t)}catch(s){i[e]=t}return t}},function(e,t,s){var i=s(3),o=s(31),r=s(33),n=s(34),a=Object.defineProperty;t.f=i?a:function(e,t,s){if(r(e),t=n(t,!0),r(s),o)try{return a(e,t,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported");return"value"in s&&(e[t]=s.value),e}},function(e,t,s){var i=s(3),o=s(0),r=s(32);e.exports=!i&&!o((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},function(e,t,s){var i=s(1),o=s(2),r=i.document,n=o(r)&&o(r.createElement);e.exports=function(e){return n?r.createElement(e):{}}},function(e,t,s){var i=s(2);e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,s){var i=s(2);e.exports=function(e,t){if(!i(e))return e;var s,o;if(t&&"function"==typeof(s=e.toString)&&!i(o=s.call(e)))return o;if("function"==typeof(s=e.valueOf)&&!i(o=s.call(e)))return o;if(!t&&"function"==typeof(s=e.toString)&&!i(o=s.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var s=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++s+i).toString(36)}},function(e,t,s){var i=s(9);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,s){"use strict";var i=s(0);e.exports=function(e,t){var s=[][e];return!!s&&i((function(){s.call(null,t||function(){throw 1},1)}))}},function(e,t,s){var i=s(3),o=s(0),r=s(8),n=Object.defineProperty,a={},l=function(e){throw e};e.exports=function(e,t){if(r(a,e))return a[e];t||(t={});var s=[][e],c=!!r(t,"ACCESSORS")&&t.ACCESSORS,u=r(t,0)?t[0]:l,d=r(t,1)?t[1]:void 0;return a[e]=!!s&&!o((function(){if(c&&!i)return!0;var e={length:-1};c?n(e,1,{enumerable:!0,get:l}):e[1]=1,s.call(e,u,d)}))}},function(e,t,s){},,,function(e,t,s){"use strict";s.r(t);s(5),s(40);class i{constructor(e,t){this.block=document.createElement("div"),this.block.classList.add("popup"),this.block.append(e.content.cloneNode("true")),t.append(this.block),this.open=this.open.bind(this),this.close=this.close.bind(this),this.closeBtn=this.block.querySelector(".popup__close"),this.closeBtn.addEventListener("click",this.close)}close(e){e.target.closest(".popup").classList.remove("popup_is-opened")}open(e){console.log("open event on popup ".concat(typeof this.block)),this.block.classList.add("popup_is-opened")}buttonRender(e,t){t?(console.log("valid is ok, enabling submit btn"),e.removeAttribute("disabled"),e.classList.remove("popup__button_disabled")):(console.log("valid is not ok, disabling submit btn"),e.setAttribute("disabled",!0),e.classList.add("popup__button_disabled"))}alertRender(e,t){t?(e.textContent=t,e.style.visibility="visible"):e.style.visibility="hidden"}}var o=s(11),r=s(10),n=s.p+"./images/parks.png",a=s.p+"./images/plant.png",l=s.p+"./images/taiga.png",c=[{_id:1,image:n,date:"2 августа, 2019",title:"Национальное достояние – парки Национальное достояние – парки Национальное достояние – парки",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"ЛЕНТА.РУ",keyword:"Политика"},{_id:2,image:a,date:"2 августа, 2012",title:"Лесные огоньки: история одной фотографии",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"МЕДУЗА",keyword:"Медузы"},{_id:3,image:l,date:"2 августа, 2019",title:'"Первозданная тайга": новый фотопроект Игоря Шпиленка',text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"ЛЕНТА.РУ",keyword:"Здоровье"},{_id:10,image:n,date:"2 августа, 2019",title:"Национальное достояние - парки",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"ЛЕНТА.РУ",keyword:"Политика"},{_id:11,image:a,date:"2 августа, 2012",title:"Национальное достояние - люди",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"МЕДУЗА",keyword:"Медузы"},{_id:12,image:l,date:"2 августа, 2019",title:"Национальное достояние - парки",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"ЛЕНТА.РУ",keyword:"Здоровье"},{_id:13,image:n,date:"2 августа, 2019",title:"Национальное достояние - парки",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"ЛЕНТА.РУ",keyword:"Здоровье"}],u=s(4),d=s.p+"./images/bookmark.png",h=s.p+"./images/bookmarkhover.png",p=document.querySelector(".header__navbar").querySelector(".button_type_auth"),m=document.querySelectorAll(".header__username"),b=(document.querySelectorAll(".header__navbar-item_main-page"),document.querySelectorAll(".header__navbar-item_saved-articles-page")),_=document.querySelectorAll(".button_type_logout"),f=document.querySelectorAll(".button_type_auth");_.forEach(e=>{e.addEventListener("click",e=>{A.logout()})});document.querySelector(".button_type_mobile-menu"),document.querySelector(".header__mobile-menu-close"),document.querySelector(".header__navbar_type_mobile");var g=document.querySelector(".page"),T=document.querySelector(".lead__button"),v=document.querySelector(".articles"),y=document.querySelector(".articles__container"),k=document.querySelector(".articles__show-more-btn"),S=document.getElementById("popup_type_login"),L=document.getElementById("article"),w=document.getElementById("popup_type_signup"),x=document.getElementById("popup_type_success-signup"),E=new class{constructor(e,t){this.messages=e,this.users=t}isEmailOK(e){return 0===e.length?this.messages.required:/.+@.+\..+/i.test(e)?void 0:this.messages.invalidEmail}isNameOK(e){return 0===e.length?this.messages.required:e.length>30||1===e.length?this.messages.incorrectNameLength:void 0}isPasswordOK(e){return 0===e.length?this.messages.required:e.length<8?this.messages.incorrectPasswordLength:void 0}isEmailFree(e){for(var t=0;t<this.users.length;t++){if(console.log("email compare: ".concat(this.users[t]," and ").concat(e,", message: ").concat(this.messages.userAlreadyExist)),!e.localeCompare(this.users[t]))return this.messages.userAlreadyExist;console.log("emails are not the same")}}}({required:"Это обязательное поле",incorrectNameLength:"Должно быть от 2 до 30 символов",incorrectPasswordLength:"Должно быть от 8 символов",invalidEmail:"Неправильный формат email",incorrectCredentials:"Неправильные email или пароль",userAlreadyExist:"Такой пользователь уже есть"},["example@test.com","mariolsun@test.com"]),q=new class extends i{constructor(e,t,s){super(e,t),this.block.classList.add("popup_type_login"),this.validation=s,this.emailValid=s.isEmailOK.bind(this.validation),this.passwordValid=s.isPasswordOK.bind(this.validation),this.emailInput=this.block.querySelector(".popup__input_type_email"),this.passwordInput=this.block.querySelector(".popup__input_type_password"),this.submitBtn=this.block.querySelector(".popup__button"),this.emailAlert=this.block.querySelector(".popup__validate-alert_type_email"),this.passwordAlert=this.block.querySelector(".popup__validate-alert_type_password"),this.form=this.block.querySelector(".popup__form"),this.open=this.open.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this.block.addEventListener("input",this.render)}render(e){var t={email:this.emailValid(this.emailInput.value),password:this.passwordValid(this.passwordInput.value)};switch(this.buttonRender(this.submitBtn,!t.email&&!t.password),e.target){case this.emailInput:this.alertRender(this.emailAlert,t.email);break;case this.passwordInput:this.alertRender(this.passwordAlert,t.password)}}close(e){this.form.reset(),this.render(e),super.close(e)}open(e){this.emailAlert.style.visibility="hidden",this.passwordAlert.style.visibility="hidden",super.open(e)}renderLoading(e){this.submitBtn.textContent=e?"Загрузка...":"Войти"}}(S,g,E),A=new o.a(m,u.a,"Грета",(function(){console.log("showing logged in menu"),b.forEach(e=>{e.classList.add("header__navbar-item_visible")}),_.forEach(e=>{e.classList.add("header__navbar-item_visible")}),f.forEach(e=>{e.classList.remove("header__navbar-item_visible"),console.log("hiding auth btn ".concat(e.classList))})}),(function(){console.log("showin logged out menu"),b.forEach(e=>{e.classList.remove("header__navbar-item_visible")}),_.forEach(e=>{e.classList.remove("header__navbar-item_visible")}),f.forEach(e=>{e.classList.add("header__navbar-item_visible")})}),!1),I=c.map(e=>new r.a(y,L,e,A.isLoggedIn)),O=new class extends i{constructor(e,t,s){super(e,t),this.block.classList.add("popup_type_signup"),this.validation=s,this.emailValid=s.isEmailOK.bind(this.validation),this.nameValid=s.isNameOK.bind(this.validation),this.passwordValid=s.isPasswordOK.bind(this.validation),this.emailFreeCheck=s.isEmailFree.bind(this.validation),this.emailInput=this.block.querySelector(".popup__input_type_email"),this.passwordInput=this.block.querySelector(".popup__input_type_password"),this.nameInput=this.block.querySelector(".popup__input_type_name"),this.submitBtn=this.block.querySelector(".popup__button"),this.emailAlert=this.block.querySelector(".popup__validate-alert_type_email"),this.nameAlert=this.block.querySelector(".popup__validate-alert_type_name"),this.passwordAlert=this.block.querySelector(".popup__validate-alert_type_password"),this.emailFreeAlert=this.block.querySelector(".popup__validate-alert_type_email-not-free"),this.form=this.block.querySelector(".popup__form"),this.open=this.open.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this.block.addEventListener("input",this.render)}render(e){var t={name:this.nameValid(this.nameInput.value),email:this.emailValid(this.emailInput.value),emailFree:this.emailFreeCheck(this.emailInput.value),password:this.passwordValid(this.passwordInput.value)};switch(this.buttonRender(this.submitBtn,!(t.name||t.email||t.password||t.emailFree)),e.target){case this.nameInput:this.alertRender(this.nameAlert,t.name);break;case this.emailInput:console.log("input email. email check: ".concat(t.email,", email available check: ").concat(t.emailFree)),this.alertRender(this.emailAlert,t.email),this.alertRender(this.emailFreeAlert,t.emailFree);break;case this.passwordInput:this.alertRender(this.passwordAlert,t.password)}}close(e){this.form.reset(),this.render(e),super.close(e)}open(e){this.nameAlert.style.visibility="hidden",this.emailAlert.style.visibility="hidden",this.passwordAlert.style.visibility="hidden",this.emailFreeAlert.style.visibility="hidden",super.open(e)}renderLoading(e){this.submitBtn.textContent=e?"Загрузка...":"Зарегистрироваться"}}(w,g,E),j=new class extends i{constructor(e,t){super(e,t),this.block.classList.add("popup_type_success-signup")}}(x,g),C=document.querySelector(".popup_type_signup"),M=document.querySelector(".popup_type_login").querySelector(".popup__other-auth-btn"),B=C.querySelector(".popup__other-auth-btn");k.addEventListener("click",(function(e){e.preventDefault();for(var t=3,s=0;s<I.length;s++)if(!I[s].isVisible()&&t>0){if(I[s].visible(!0),t-=1,s==I.length-1){k.classList.remove("articles__show-more-btn_visible");break}}else if(0==t)break}));var P=j.block.querySelector(".popup__other-auth-btn"),N=O.block.querySelector(".popup__button"),F=q.block.querySelector(".popup__button");M.addEventListener("click",e=>{q.close(e),O.open()}),B.addEventListener("click",e=>{O.close(e),q.open()}),N.addEventListener("click",e=>{e.preventDefault(),A.updateUserName(O.nameInput.value),O.close(e),j.open()}),P.addEventListener("click",e=>{j.close(e),q.open()}),F.addEventListener("click",e=>{e.preventDefault(),A.login(A.name,u.a),q.close(e)}),p.addEventListener("click",q.open),T.addEventListener("click",(function(e){console.log("click on find button"),e.preventDefault(),I.forEach((e,t)=>{t>2?e.visible(!1):e.visible(!0)}),I.length>3?k.classList.add("articles__show-more-btn_visible"):k.classList.remove("articles__show-more-btn_visible"),v.classList.add("articles_visible")})),y.addEventListener("click",(function(e){e.target.classList.contains("article__save-hint")&&q.open()})),y.addEventListener("mouseover",(function(e){e.target.closest(".article__save-options")&&!A.loggedIn&&e.target.closest(".article__save-options").querySelector(".article__save-hint").classList.toggle("article__save-hint_visible");e.target.classList.contains("article__button_type_toggle-save")&&e.target.querySelector(".article__bookmark-icon")&&(e.target.querySelector(".article__bookmark-icon").src=h,console.log("fuck you")),e.target.classList.contains("article__bookmark-icon")&&(console.log("fuck you too"),e.target.style.src=h)})),y.addEventListener("mouseout",(function(e){e.target.closest(".article__save-options")&&!A.loggedIn&&e.target.closest(".article__save-options").querySelector(".article__save-hint").classList.toggle("article__save-hint_visible");e.target.classList.contains("article__button_type_toggle-save")&&!e.relatedTarget.classList.contains("article__bookmark-icon")&&e.target.querySelector(".article__bookmark-icon")&&(e.target.querySelector(".article__bookmark-icon").src=d,console.log("fuck you")),e.target.classList.contains("article__bookmark-icon")&&!e.relatedTarget.classList.contains("article__button_type_toggle-save")&&(console.log("fuck you too"),e.target.style.src=d)}))}]);