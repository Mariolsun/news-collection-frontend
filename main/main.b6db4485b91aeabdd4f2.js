!function(e){var t={};function i(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(s,o,function(t){return e[t]}.bind(null,o));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=43)}([function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){(function(t){var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||Function("return this")()}).call(this,i(12))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){var s=i(0);e.exports=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,i){"use strict";t.a=[{_id:4,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"4 августа, 2019",title:"Национальное достояние - сейвы",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"CЕЙВ.РУ",keyword:"Природа"},{_id:5,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"5 августа, 2012",title:"СЕЙВЫ",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"МЕДУЗА",keyword:"Природа"},{_id:6,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"6 августа, 2019",title:"Национальное достояние - парки",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"ЛЕНТА.РУ",keyword:"Здоровье"},{_id:7,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"7 августа, 2019",title:"Национальное достояние - сейвы",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"CЕЙВ.РУ",keyword:"Биткоин"},{_id:8,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"8 августа, 2012",title:"СЕЙВЫ",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"МЕДУЗА",keyword:"Природа"},{_id:9,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"9 августа, 2019",title:"Национальное достояние - парки",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"ЛЕНТА.РУ",keyword:"Политика"}]},function(e,t,i){var s=i(1),o=i(13),r=i(14),n=i(7);for(var a in o){var l=s[a],c=l&&l.prototype;if(c&&c.forEach!==r)try{n(c,"forEach",r)}catch(e){c.forEach=r}}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t,i){var s=i(3),o=i(30),r=i(35);e.exports=s?function(e,t,i){return o.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){var s=i(0);e.exports=!!Object.getOwnPropertySymbols&&!s((function(){return!String(Symbol())}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));i(5);class s{constructor(e,t,i,s,o){var r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];this.userNameBlocks=e,this.articles=t,this.loginFunc=s,this.logoutFunc=o,this.loggedIn=r,this.name=i,this.updateArticles=this.updateArticles.bind(this),this.updateUserName=this.updateUserName.bind(this),this.addArticle=this.addArticle.bind(this),this.removeArticle=this.removeArticle.bind(this),this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.isLoggedIn=this.isLoggedIn.bind(this),this.loggedIn?this.login():this.logout()}updateUserName(e){console.log("updating username ".concat(e)),this.name=e,this.userNameBlocks.forEach(e=>{e.textContent=this.name})}updateArticles(e){this.articles=e}addArticle(e){this.articles.push(e)}removeArticle(e){this.articles.filter(t=>t._id!=e)}login(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.name,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];console.log("logged in as ".concat(this.name)),this.loggedIn=!0,this.updateUserName(e),this.updateArticles(t),this.loginFunc()}logout(){this.loggedIn=!1,this.updateUserName("Грета"),this.updateArticles([]),this.logoutFunc()}isLoggedIn(){return this.loggedIn}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var s=i.p+"./images/bookmark-marked.png";class o{constructor(e,t,i,s){this.articlesContainer=e,this.template=t,this.isLoggedIn=s,this.data=i,this._id=this.data._id,this.block=document.createElement("div"),this.block.classList.add("article"),this.block.append(this.template.content.cloneNode("true")),this.articlesContainer.append(this.block),this.saveOptionsBlock=this.block.querySelector(".article__save-options"),this.saveHint=this.block.querySelector(".article__save-hint"),this.image=this.block.querySelector(".article__image"),this.date=this.block.querySelector(".article__date"),this.text=this.block.querySelector(".article__text"),this.title=this.block.querySelector(".article__title"),this.source=this.block.querySelector(".article__source"),this.keyword=this.block.querySelector(".article__keyword"),this.bookmarkIcon=this.block.querySelector(".article__bookmark-icon"),this.render=this.render.bind(this),this.visible=this.visible.bind(this),this.toggleSave=this.toggleSave.bind(this),this.remove=this.remove.bind(this),this.render(),this.block.addEventListener("click",this.toggleSave)}visible(e){e?(this.render(),this.block.classList.add("article_visible")):this.block.classList.remove("article_visible")}isVisible(){return this.block.classList.contains("article_visible")}remove(){this.block.remove()}toggleSave(){this.isLoggedIn()&&(this.isSaved=!this.isSaved,this.isSaved?(this.bookmarkIcon.classList.add("article__bookmarked-icon"),this.bookmarkIcon.classList.remove("article__bookmark-icon"),this.bookmarkIcon.src=s):(this.bookmarkIcon.classList.add("article__bookmark-icon"),this.bookmarkIcon.classList.remove("article__bookmarked-icon"),this.bookmarkIcon.src=s))}render(){this.image.src=this.data.image,this.date.textContent=this.data.date,this.title.textContent=this.data.title,this.text.textContent=this.data.text,this.source.textContent=this.data.source,this.keyword.textContent=this.data.keyword}}},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,i){"use strict";var s=i(15).forEach,o=i(38),r=i(39),n=o("forEach"),a=r("forEach");e.exports=n&&a?[].forEach:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,i){var s=i(16),o=i(18),r=i(19),n=i(21),a=i(23),l=[].push,c=function(e){var t=1==e,i=2==e,c=3==e,u=4==e,d=6==e,h=5==e||d;return function(p,m,b,_){for(var v,f,g=r(p),y=o(g),k=s(m,b,3),L=n(y.length),T=0,S=_||a,w=t?S(p,L):i?S(p,0):void 0;L>T;T++)if((h||T in y)&&(f=k(v=y[T],T,g),e))if(t)w[T]=f;else if(f)switch(e){case 3:return!0;case 5:return v;case 6:return T;case 2:l.call(w,v)}else if(u)return!1;return d?-1:c||u?u:w}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,i){var s=i(17);e.exports=function(e,t,i){if(s(e),void 0===t)return e;switch(i){case 0:return function(){return e.call(t)};case 1:return function(i){return e.call(t,i)};case 2:return function(i,s){return e.call(t,i,s)};case 3:return function(i,s,o){return e.call(t,i,s,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,i){var s=i(0),o=i(6),r="".split;e.exports=s((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?r.call(e,""):Object(e)}:Object},function(e,t,i){var s=i(20);e.exports=function(e){return Object(s(e))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,i){var s=i(22),o=Math.min;e.exports=function(e){return e>0?o(s(e),9007199254740991):0}},function(e,t){var i=Math.ceil,s=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?s:i)(e)}},function(e,t,i){var s=i(2),o=i(24),r=i(25)("species");e.exports=function(e,t){var i;return o(e)&&("function"!=typeof(i=e.constructor)||i!==Array&&!o(i.prototype)?s(i)&&null===(i=i[r])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===t?0:t)}},function(e,t,i){var s=i(6);e.exports=Array.isArray||function(e){return"Array"==s(e)}},function(e,t,i){var s=i(1),o=i(26),r=i(8),n=i(36),a=i(9),l=i(37),c=o("wks"),u=s.Symbol,d=l?u:u&&u.withoutSetter||n;e.exports=function(e){return r(c,e)||(a&&r(u,e)?c[e]=u[e]:c[e]=d("Symbol."+e)),c[e]}},function(e,t,i){var s=i(27),o=i(28);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:s?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t,i){var s=i(1),o=i(29),r=s["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=r},function(e,t,i){var s=i(1),o=i(7);e.exports=function(e,t){try{o(s,e,t)}catch(i){s[e]=t}return t}},function(e,t,i){var s=i(3),o=i(31),r=i(33),n=i(34),a=Object.defineProperty;t.f=s?a:function(e,t,i){if(r(e),t=n(t,!0),r(i),o)try{return a(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){var s=i(3),o=i(0),r=i(32);e.exports=!s&&!o((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},function(e,t,i){var s=i(1),o=i(2),r=s.document,n=o(r)&&o(r.createElement);e.exports=function(e){return n?r.createElement(e):{}}},function(e,t,i){var s=i(2);e.exports=function(e){if(!s(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,i){var s=i(2);e.exports=function(e,t){if(!s(e))return e;var i,o;if(t&&"function"==typeof(i=e.toString)&&!s(o=i.call(e)))return o;if("function"==typeof(i=e.valueOf)&&!s(o=i.call(e)))return o;if(!t&&"function"==typeof(i=e.toString)&&!s(o=i.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var i=0,s=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++i+s).toString(36)}},function(e,t,i){var s=i(9);e.exports=s&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,i){"use strict";var s=i(0);e.exports=function(e,t){var i=[][e];return!!i&&s((function(){i.call(null,t||function(){throw 1},1)}))}},function(e,t,i){var s=i(3),o=i(0),r=i(8),n=Object.defineProperty,a={},l=function(e){throw e};e.exports=function(e,t){if(r(a,e))return a[e];t||(t={});var i=[][e],c=!!r(t,"ACCESSORS")&&t.ACCESSORS,u=r(t,0)?t[0]:l,d=r(t,1)?t[1]:void 0;return a[e]=!!i&&!o((function(){if(c&&!s)return!0;var e={length:-1};c?n(e,1,{enumerable:!0,get:l}):e[1]=1,i.call(e,u,d)}))}},function(e,t,i){},function(e,t,i){},,function(e,t,i){"use strict";i.r(t);i(5),i(40),i(41);class s{constructor(e,t,i,s){this.openMobileBtn=i,this.closeMobileBtn=s,this.block=document.createElement("div"),this.block.classList.add("popup"),this.block.append(e.content.cloneNode("true")),t.append(this.block),this.open=this.open.bind(this),this.close=this.close.bind(this),this.closeBtn=this.block.querySelector(".popup__close"),this.closeBtn.addEventListener("click",this.close),this.isMobile=this.isMobile.bind(this),this._closeOnEmptyAreaClick=this._closeOnEmptyAreaClick.bind(this)}close(e){this.block.removeEventListener("click",this._closeOnEmptyAreaClick),this.closeMobileBtn.removeEventListener("click",this.close),this.closeMobileBtn.classList.remove("header__navbar-item_visible"),this.openMobileBtn.classList.add("header__navbar-item_visible"),this.block.classList.remove("popup_type_mobile"),this.block.classList.remove("popup_is-opened")}isMobile(){return this.block.classList.contains("popup_type_mobile")}_closeOnEmptyAreaClick(e){e.target.closest(".popup__content")||this.close(e)}open(e){this.block.addEventListener("click",this._closeOnEmptyAreaClick),this.openMobileBtn.classList.remove("header__navbar-item_visible"),this.closeMobileBtn.classList.add("header__navbar-item_visible"),this.closeMobileBtn.addEventListener("click",this.close),console.log("openin mobile popup"),this.block.classList.add("popup_type_mobile"),console.log("open event on popup ".concat(typeof this.block)),this.block.classList.add("popup_is-opened")}buttonRender(e,t){t?(console.log("valid is ok, enabling submit btn"),e.removeAttribute("disabled"),e.classList.remove("popup__button_disabled")):(console.log("valid is not ok, disabling submit btn"),e.setAttribute("disabled",!0),e.classList.add("popup__button_disabled"))}alertRender(e,t){t?(e.textContent=t,e.style.visibility="visible"):e.style.visibility="hidden"}}var o=i(10),r=(i(11),i.p,i.p,i.p,i(4)),n=i.p+"./images/bookmark.png",a=i.p+"./images/bookmarkhover.png",l=document.querySelector(".header__navbar").querySelector(".button_type_auth"),c=document.querySelectorAll(".header__username"),u=document.querySelectorAll(".header__navbar-item_inactive-page"),d=document.querySelectorAll(".button_type_logout"),h=document.querySelectorAll(".button_type_auth"),p=document.querySelector(".header_type_mobile"),m=p.querySelector(".header__navbar_type_mobile"),b=p.querySelector(".button_type_mobile-menu"),_=p.querySelector(".button_type_close-mobile");d.forEach(e=>{e.addEventListener("click",e=>{e.target.closest(".header__navbar_type_mobile")&&E(),I.logout()})}),window.addEventListener("resize",e=>{document.documentElement.clientWidth>767&&m.classList.contains("header__navbar_visible")&&E()});var v=document.querySelector(".page"),f=document.querySelector(".lead__button"),g=document.querySelector(".preloader-section"),y=document.querySelector(".articles"),k=document.querySelector(".articles__container"),L=document.querySelector(".articles__show-more-btn"),T=document.getElementById("popup_type_login"),S=(document.getElementById("article"),document.getElementById("popup_type_signup")),w=document.getElementById("popup_type_success-signup"),x=document.querySelector(".articles-not-found");function E(e){p.classList.toggle("header_is-opened-mobile"),m.classList.toggle("header__navbar_visible"),_.classList.toggle("header__navbar-item_visible"),b.classList.toggle("header__navbar-item_visible")}b.addEventListener("click",e=>{if(I.isLoggedIn())console.log("user loggen in, toggling mobile menu"),E(),_.addEventListener("click",E);else{console.log("user not logged in, openin popup login"),_.removeEventListener("click",E);A.open(!0),_.classList.add("header__navbar-item_visible"),b.classList.remove("header__navbar-item_visible")}});var q=new class{constructor(e,t){this.messages=e,this.users=t}isEmailOK(e){return 0===e.length?this.messages.required:/.+@.+\..+/i.test(e)?void 0:this.messages.invalidEmail}isNameOK(e){return 0===e.length?this.messages.required:e.length>30||1===e.length?this.messages.incorrectNameLength:void 0}isPasswordOK(e){return 0===e.length?this.messages.required:e.length<8?this.messages.incorrectPasswordLength:void 0}isEmailFree(e){for(var t=0;t<this.users.length;t++){if(console.log("email compare: ".concat(this.users[t]," and ").concat(e,", message: ").concat(this.messages.userAlreadyExist)),!e.localeCompare(this.users[t]))return this.messages.userAlreadyExist;console.log("emails are not the same")}}}({required:"Это обязательное поле",incorrectNameLength:"Должно быть от 2 до 30 символов",incorrectPasswordLength:"Должно быть от 8 символов",invalidEmail:"Неправильный формат email",incorrectCredentials:"Неправильные email или пароль",userAlreadyExist:"Такой пользователь уже есть"},["example@test.com","mariolsun@test.com"]),A=new class extends s{constructor(e,t,i,s,o){super(e,t,i,s),this.block.classList.add("popup_type_login"),this.validation=o,this.emailValid=o.isEmailOK.bind(this.validation),this.passwordValid=o.isPasswordOK.bind(this.validation),this.emailInput=this.block.querySelector(".popup__input_type_email"),this.passwordInput=this.block.querySelector(".popup__input_type_password"),this.submitBtn=this.block.querySelector(".popup__button"),this.emailAlert=this.block.querySelector(".popup__validate-alert_type_email"),this.passwordAlert=this.block.querySelector(".popup__validate-alert_type_password"),this.form=this.block.querySelector(".popup__form"),this.open=this.open.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this.block.addEventListener("input",this.render)}render(e){var t={email:this.emailValid(this.emailInput.value),password:this.passwordValid(this.passwordInput.value)};switch(this.buttonRender(this.submitBtn,!t.email&&"Это обязательное поле"!==t.password),e.target){case this.emailInput:this.alertRender(this.emailAlert,t.email);break;case this.passwordInput:this.alertRender(this.passwordAlert,"Это обязательное поле"==t.password?"Это обязательное поле":"")}}close(e){this.form.reset(),this.render(e),super.close(e)}open(e){this.emailAlert.style.visibility="hidden",this.passwordAlert.style.visibility="hidden",super.open(e)}renderLoading(e){this.submitBtn.textContent=e?"Загрузка...":"Войти"}}(T,v,b,_,q),I=new o.a(c,r.a,"Грета",(function(){console.log("showing logged in menu"),u.forEach(e=>{e.classList.add("header__navbar-item_visible")}),d.forEach(e=>{e.classList.add("header__navbar-item_visible")}),h.forEach(e=>{e.classList.remove("header__navbar-item_visible"),console.log("hiding auth btn ".concat(e.classList))})}),(function(){console.log("showin logged out menu"),u.forEach(e=>{e.classList.remove("header__navbar-item_visible")}),d.forEach(e=>{e.classList.remove("header__navbar-item_visible")}),h.forEach(e=>{e.classList.add("header__navbar-item_visible")})}),!1),O=[],M=new class extends s{constructor(e,t,i,s,o){super(e,t,i,s),this.block.classList.add("popup_type_signup"),this.validation=o,this.emailValid=o.isEmailOK.bind(this.validation),this.nameValid=o.isNameOK.bind(this.validation),this.passwordValid=o.isPasswordOK.bind(this.validation),this.emailFreeCheck=o.isEmailFree.bind(this.validation),this.emailInput=this.block.querySelector(".popup__input_type_email"),this.passwordInput=this.block.querySelector(".popup__input_type_password"),this.nameInput=this.block.querySelector(".popup__input_type_name"),this.submitBtn=this.block.querySelector(".popup__button"),this.emailAlert=this.block.querySelector(".popup__validate-alert_type_email"),this.nameAlert=this.block.querySelector(".popup__validate-alert_type_name"),this.passwordAlert=this.block.querySelector(".popup__validate-alert_type_password"),this.emailFreeAlert=this.block.querySelector(".popup__validate-alert_type_email-not-free"),this.form=this.block.querySelector(".popup__form"),this.open=this.open.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this.block.addEventListener("input",this.render)}render(e){var t={name:this.nameValid(this.nameInput.value),email:this.emailValid(this.emailInput.value),emailFree:this.emailFreeCheck(this.emailInput.value),password:this.passwordValid(this.passwordInput.value)};switch(this.buttonRender(this.submitBtn,!(t.name||t.email||t.password||t.emailFree)),e.target){case this.nameInput:this.alertRender(this.nameAlert,t.name);break;case this.emailInput:console.log("input email. email check: ".concat(t.email,", email available check: ").concat(t.emailFree)),this.alertRender(this.emailAlert,t.email),this.alertRender(this.emailFreeAlert,t.emailFree);break;case this.passwordInput:this.alertRender(this.passwordAlert,t.password)}}close(e){this.form.reset(),this.render(e),super.close(e)}open(e){this.nameAlert.style.visibility="hidden",this.emailAlert.style.visibility="hidden",this.passwordAlert.style.visibility="hidden",this.emailFreeAlert.style.visibility="hidden",super.open(e)}renderLoading(e){this.submitBtn.textContent=e?"Загрузка...":"Зарегистрироваться"}}(S,v,b,_,q),C=new class extends s{constructor(e,t,i,s){super(e,t,i,s),this.block.classList.add("popup_type_success-signup")}}(w,v,b,_),j=document.querySelector(".popup_type_signup"),B=document.querySelector(".popup_type_login").querySelector(".popup__other-auth-btn"),P=j.querySelector(".popup__other-auth-btn");L.addEventListener("click",(function(e){e.preventDefault();for(var t=3,i=0;i<O.length;i++)if(!O[i].isVisible()&&t>0){if(O[i].visible(!0),t-=1,i==O.length-1){L.classList.remove("articles__show-more-btn_visible");break}}else if(0==t)break}));var N=C.block.querySelector(".popup__other-auth-btn"),F=M.block.querySelector(".popup__button"),V=A.block.querySelector(".popup__button");function D(){console.log("time out fired"),0==O.length?x.classList.add("articles-not-found_visible"):O.forEach((e,t)=>{t>2?e.visible(!1):e.visible(!0),y.classList.add("articles_visible")}),O.length>3?L.classList.add("articles__show-more-btn_visible"):L.classList.remove("articles__show-more-btn_visible"),g.classList.remove("preloader-section_visible"),console.log("all done ".concat(g.classList))}B.addEventListener("click",e=>{A.close(e),M.open()}),P.addEventListener("click",e=>{M.close(e),A.open()}),F.addEventListener("click",e=>{e.preventDefault(),I.updateUserName(M.nameInput.value),M.close(e),C.open()}),N.addEventListener("click",e=>{C.close(e),A.open()}),V.addEventListener("click",e=>{e.preventDefault(),I.login(I.name,r.a),A.close(e)}),l.addEventListener("click",A.open),f.addEventListener("click",(function(e){console.log("click on search button"),e.preventDefault(),x.classList.remove("articles-not-found_visible"),y.classList.remove("articles_visible"),g.classList.add("preloader-section_visible"),console.log("setting timeout"),setTimeout(D,2e3)})),k.addEventListener("click",(function(e){e.target.classList.contains("article__save-hint")&&A.open()})),k.addEventListener("mouseover",(function(e){e.target.closest(".article__save-options")&&!I.loggedIn&&e.target.closest(".article__save-options").querySelector(".article__save-hint").classList.toggle("article__save-hint_visible");e.target.classList.contains("article__button_type_toggle-save")&&e.target.querySelector(".article__bookmark-icon")&&(e.target.querySelector(".article__bookmark-icon").src=a),e.target.classList.contains("article__bookmark-icon")&&(e.target.style.src=a)})),k.addEventListener("mouseout",(function(e){e.target.closest(".article__save-options")&&!I.loggedIn&&e.target.closest(".article__save-options").querySelector(".article__save-hint").classList.toggle("article__save-hint_visible");e.target.classList.contains("article__button_type_toggle-save")&&!e.relatedTarget.classList.contains("article__bookmark-icon")&&e.target.querySelector(".article__bookmark-icon")&&(e.target.querySelector(".article__bookmark-icon").src=n),e.target.classList.contains("article__bookmark-icon")&&!e.relatedTarget.classList.contains("article__button_type_toggle-save")&&(e.target.style.src=n)}))}]);