!function(t){var e={};function i(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(r,o,function(e){return t[e]}.bind(null,o));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=44)}([function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){(function(e){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||Function("return this")()}).call(this,i(12))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var r=i(0);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,i){"use strict";e.a=[{_id:4,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"4 августа, 2019",title:"Национальное достояние - сейвы",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"CЕЙВ.РУ",keyword:"Природа"},{_id:5,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"5 августа, 2012",title:"СЕЙВЫ",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"МЕДУЗА",keyword:"Природа"},{_id:6,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"6 августа, 2019",title:"Национальное достояние - парки",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"ЛЕНТА.РУ",keyword:"Здоровье"},{_id:7,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"7 августа, 2019",title:"Национальное достояние - сейвы",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"CЕЙВ.РУ",keyword:"Биткоин"},{_id:8,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"8 августа, 2012",title:"СЕЙВЫ",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"МЕДУЗА",keyword:"Природа"},{_id:9,image:"https://images.unsplash.com/photo-1519035222117-a0d367195dfb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1051&q=80",date:"9 августа, 2019",title:"Национальное достояние - парки",text:"Lorem ipsum soli. Test Test Test. Test Test Test. Test Test Test. Test Test Test. Test Test Test. В 2016 году Америка отмечала важный юбилей: сто лет назад здесь начала складываться система национальных парков - охраняемых территорий, где и сегодня каждый может приобщиться к природе.",source:"ЛЕНТА.РУ",keyword:"Политика"}]},function(t,e,i){var r=i(1),o=i(13),n=i(14),s=i(7);for(var c in o){var a=r[c],l=a&&a.prototype;if(l&&l.forEach!==n)try{s(l,"forEach",n)}catch(t){l.forEach=n}}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){var r=i(3),o=i(30),n=i(35);t.exports=r?function(t,e,i){return o.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var r=i(0);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var r=i.p+"./images/bookmark-marked.png";class o{constructor(t,e,i,r){this.articlesContainer=t,this.template=e,this.isLoggedIn=r,this.data=i,this._id=this.data._id,this.block=document.createElement("div"),this.block.classList.add("article"),this.block.append(this.template.content.cloneNode("true")),this.articlesContainer.append(this.block),this.saveOptionsBlock=this.block.querySelector(".article__save-options"),this.saveHint=this.block.querySelector(".article__save-hint"),this.image=this.block.querySelector(".article__image"),this.date=this.block.querySelector(".article__date"),this.text=this.block.querySelector(".article__text"),this.title=this.block.querySelector(".article__title"),this.source=this.block.querySelector(".article__source"),this.keyword=this.block.querySelector(".article__keyword"),this.bookmarkIcon=this.block.querySelector(".article__bookmark-icon"),this.render=this.render.bind(this),this.visible=this.visible.bind(this),this.toggleSave=this.toggleSave.bind(this),this.remove=this.remove.bind(this),this.render(),this.block.addEventListener("click",this.toggleSave)}visible(t){t?(this.render(),this.block.classList.add("article_visible")):this.block.classList.remove("article_visible")}isVisible(){return this.block.classList.contains("article_visible")}remove(){this.block.remove()}toggleSave(){this.isLoggedIn()&&(this.isSaved=!this.isSaved,this.isSaved?(this.bookmarkIcon.classList.add("article__bookmarked-icon"),this.bookmarkIcon.classList.remove("article__bookmark-icon"),this.bookmarkIcon.src=r):(this.bookmarkIcon.classList.add("article__bookmark-icon"),this.bookmarkIcon.classList.remove("article__bookmarked-icon"),this.bookmarkIcon.src=r))}render(){this.image.src=this.data.image,this.date.textContent=this.data.date,this.title.textContent=this.data.title,this.text.textContent=this.data.text,this.source.textContent=this.data.source,this.keyword.textContent=this.data.keyword}}},function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i(5);class r{constructor(t,e,i,r,o){var n=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];this.userNameBlocks=t,this.articles=e,this.loginFunc=r,this.logoutFunc=o,this.loggedIn=n,this.name=i,this.updateArticles=this.updateArticles.bind(this),this.updateUserName=this.updateUserName.bind(this),this.addArticle=this.addArticle.bind(this),this.removeArticle=this.removeArticle.bind(this),this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.isLoggedIn=this.isLoggedIn.bind(this),this.loggedIn?this.login():this.logout()}updateUserName(t){console.log("updating username ".concat(t)),this.name=t,this.userNameBlocks.forEach(t=>{t.textContent=this.name})}updateArticles(t){this.articles=t}addArticle(t){this.articles.push(t)}removeArticle(t){this.articles.filter(e=>e._id!=t)}login(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.name,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];console.log("logged in as ".concat(this.name)),this.loggedIn=!0,this.updateUserName(t),this.updateArticles(e),this.loginFunc()}logout(){this.loggedIn=!1,this.updateUserName("Грета"),this.updateArticles([]),this.logoutFunc()}isLoggedIn(){return this.loggedIn}}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,i){"use strict";var r=i(15).forEach,o=i(38),n=i(39),s=o("forEach"),c=n("forEach");t.exports=s&&c?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,i){var r=i(16),o=i(18),n=i(19),s=i(21),c=i(23),a=[].push,l=function(t){var e=1==t,i=2==t,l=3==t,u=4==t,d=6==t,h=5==t||d;return function(f,p,m,g){for(var _,b,v=n(f),y=o(v),T=r(p,m,3),k=s(y.length),S=0,L=g||c,x=e?L(f,k):i?L(f,0):void 0;k>S;S++)if((h||S in y)&&(b=T(_=y[S],S,v),t))if(e)x[S]=b;else if(b)switch(t){case 3:return!0;case 5:return _;case 6:return S;case 2:a.call(x,_)}else if(u)return!1;return d?-1:l||u?u:x}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(t,e,i){var r=i(17);t.exports=function(t,e,i){if(r(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,o){return t.call(e,i,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,i){var r=i(0),o=i(6),n="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?n.call(t,""):Object(t)}:Object},function(t,e,i){var r=i(20);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,i){var r=i(22),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e){var i=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:i)(t)}},function(t,e,i){var r=i(2),o=i(24),n=i(25)("species");t.exports=function(t,e){var i;return o(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!o(i.prototype)?r(i)&&null===(i=i[n])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},function(t,e,i){var r=i(6);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,i){var r=i(1),o=i(26),n=i(8),s=i(36),c=i(9),a=i(37),l=o("wks"),u=r.Symbol,d=a?u:u&&u.withoutSetter||s;t.exports=function(t){return n(l,t)||(c&&n(u,t)?l[t]=u[t]:l[t]=d("Symbol."+t)),l[t]}},function(t,e,i){var r=i(27),o=i(28);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,i){var r=i(1),o=i(29),n=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=n},function(t,e,i){var r=i(1),o=i(7);t.exports=function(t,e){try{o(r,t,e)}catch(i){r[t]=e}return e}},function(t,e,i){var r=i(3),o=i(31),n=i(33),s=i(34),c=Object.defineProperty;e.f=r?c:function(t,e,i){if(n(t),e=s(e,!0),n(i),o)try{return c(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var r=i(3),o=i(0),n=i(32);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a}))},function(t,e,i){var r=i(1),o=i(2),n=r.document,s=o(n)&&o(n.createElement);t.exports=function(t){return s?n.createElement(t):{}}},function(t,e,i){var r=i(2);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,i){var r=i(2);t.exports=function(t,e){if(!r(t))return t;var i,o;if(e&&"function"==typeof(i=t.toString)&&!r(o=i.call(t)))return o;if("function"==typeof(i=t.valueOf)&&!r(o=i.call(t)))return o;if(!e&&"function"==typeof(i=t.toString)&&!r(o=i.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++i+r).toString(36)}},function(t,e,i){var r=i(9);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,i){"use strict";var r=i(0);t.exports=function(t,e){var i=[][t];return!!i&&r((function(){i.call(null,e||function(){throw 1},1)}))}},function(t,e,i){var r=i(3),o=i(0),n=i(8),s=Object.defineProperty,c={},a=function(t){throw t};t.exports=function(t,e){if(n(c,t))return c[t];e||(e={});var i=[][t],l=!!n(e,"ACCESSORS")&&e.ACCESSORS,u=n(e,0)?e[0]:a,d=n(e,1)?e[1]:void 0;return c[t]=!!i&&!o((function(){if(l&&!r)return!0;var t={length:-1};l?s(t,1,{enumerable:!0,get:a}):t[1]=1,i.call(t,u,d)}))}},function(t,e,i){},,function(t,e,i){},,function(t,e,i){"use strict";i.r(e);i(5),i(40),i(42),i(11);var r=i(10),o=i(4),n=(i.p,document.querySelector(".articles__container")),s=document.querySelectorAll(".button_type_logout"),c=document.getElementById("article"),a=(document.querySelector(".button_type_mobile-menu"),document.querySelector(".header__mobile-menu-close"),document.querySelector(".info__title")),l=document.querySelector(".info__keywords"),u=[],d=(document.querySelector(".page"),document.querySelector(".lead__button"),document.querySelector(".preloader-section"),document.querySelector(".articles"),document.querySelector(".articles__show-more-btn"),document.getElementById("popup_type_login"),document.getElementById("popup_type_signup"),document.getElementById("popup_type_success-signup"),document.querySelector(".articles-not-found"),document.querySelector(".header_type_mobile")),h=d.querySelector(".header__navbar_type_mobile"),f=d.querySelector(".button_type_mobile-menu"),p=d.querySelector(".button_type_close-mobile"),m=document.querySelectorAll(".header__navbar-item_inactive-page"),g=(document.querySelectorAll(".header__username"),document.querySelectorAll(".button_type_auth"));function _(){return!0}function b(t){var e=[];return t.forEach(t=>{console.log("comparing ".concat(t.data.keyword)),e.includes(t.data.keyword)||e.push(t.data.keyword)}),e}function v(t){d.classList.toggle("header_is-opened-mobile"),h.classList.toggle("header__navbar_visible"),p.classList.toggle("header__navbar-item_visible"),f.classList.toggle("header__navbar-item_visible")}o.a.forEach(t=>{console.log("making article ".concat(n.classList));var e=new r.a(n,c,t,_);e.block.removeEventListener("click",e.toggleSave),e.keyword.classList.add("article__keyword_visible"),e.visible(!0),u.push(e)}),b(u),a.textContent="Грета, у вас ".concat(u.length," сохранённых новостей"),function(){var t=b(u);if(t.length>3)l.innerHTML="<b>".concat(t[0],"</b>, <b>").concat(t[1],"</b> и <b>").concat(t.length-2," другим</b>");else{var e="".concat(t[0]);t.forEach((t,i)=>{0!=i&&(e+=", ".concat(t))}),l.textContent=e}}(),n.addEventListener("mouseover",(function(t){t.target.closest(".article__save-options")&&t.target.closest(".article__save-options").querySelector(".article__save-hint").classList.toggle("article__save-hint_visible");t.target.classList.contains("article__button_type_toggle-save")&&t.target.querySelector(".article__bookmark-icon")&&(t.target.querySelector(".article__bookmark-icon").src="../images/trashhovericon.png"),t.target.classList.contains("article__bookmark-icon")&&(t.target.style.src="../images/trashhovericon.png")})),n.addEventListener("mouseout",(function(t){t.target.closest(".article__save-options")&&t.target.closest(".article__save-options").querySelector(".article__save-hint").classList.toggle("article__save-hint_visible");t.target.classList.contains("article__button_type_toggle-save")&&!t.relatedTarget.classList.contains("article__bookmark-icon")&&t.target.querySelector(".article__bookmark-icon")&&(t.target.querySelector(".article__bookmark-icon").src="../images/trash-icon.png"),t.target.classList.contains("article__bookmark-icon")&&!t.relatedTarget.classList.contains("article__button_type_toggle-save")&&(t.target.style.src="../images/trash-icon.png")})),n.addEventListener("click",t=>{t.target.closest(".article__button_type_toggle-save")&&t.target.closest(".article").classList.remove("article_visible")}),s.forEach(t=>{t.addEventListener("click",t=>{t.target.closest(".header__navbar_type_mobile")&&v(),document.location.href="http://localhost:8080"})}),window.addEventListener("resize",t=>{document.documentElement.clientWidth>767&&h.classList.contains("header__navbar_visible")&&v()}),f.addEventListener("click",t=>{console.log("showing logged in menu"),m.forEach(t=>{t.classList.add("header__navbar-item_visible")}),s.forEach(t=>{t.classList.add("header__navbar-item_visible")}),g.forEach(t=>{t.classList.remove("header__navbar-item_visible"),console.log("hiding auth btn ".concat(t.classList))}),console.log("user loggen in, toggling mobile menu"),v(),p.addEventListener("click",v)})}]);